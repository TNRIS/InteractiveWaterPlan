<?xml version="1.0" encoding="utf-8"?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="InteractiveWaterPlan.Core" namespace="InteractiveWaterPlan.Core">

  <class name="Strategy" mutable="false">
    <id name="Id">
      <column name="SQL_ID"/>
    </id>

    <property column="wmsProjectNameSWP" name="Description" />

    <property column="DBProjectId" name="ProjectId" /> 
    
    <property column="wmsTypeNameSWP" name="TypeName" />
    <property column="wmsTypeId" name="TypeId" />

    <property column="wmsRecipientEntityRegion" name="RegionLetter" />
    
    <property column="wmsRecipientEntityCounty" name="CountyName" />
    <property column="wmsRecipientEntityCountyId" name="CountyId" />

    <property column="SS2010" name="Supply2010" />
    <property column="SS2020" name="Supply2020" />
    <property column="SS2030" name="Supply2030" />
    <property column="SS2040" name="Supply2040" />
    <property column="SS2050" name="Supply2050" />
    <property column="SS2060" name="Supply2060" />

    <property column="wmsRedundantSupply" name="IsRedundantSupply" />

    <property column="wmsSponsorEntityName" name="SponsorName" />
    <!-- <property column="wmsSponsorEntityId" name="SponsorId" />  * -->
             
    <property column="CalculatedOnlineDate" name="OnlineYear" /> 

    <property column="SourceName" name="SourceName" />
    <property column="DBsoId" name="SourceId" />

    <property column="wmsRecipientEntityId" name="RecipientEntityId" />
    <property column="wmsRecipientEntityName" name="RecipientEntityName" />
    <property column="wmsRecipientEntityType" name="RecipientEntityType" />
    
    <property column="SQL_GEOG" name="RecipientEntityWktGeog" />
    
  </class>

  <sql-query name="GetStrategiesInCounty">
    <query-param name="countyId" type="int" />
    <query-param name="year" type="string" />
    <return class="Strategy"/>
    exec dbo.usp_Select_Strategies_By_County_Year__tbl_SWP_Final :countyId, :year
  </sql-query>

  <sql-query name="GetStrategiesByType">
    <query-param name="typeId" type="int" />
    <query-param name="year" type="string" />
    <return class="Strategy"/>
    exec dbo.usp_Select_tbl_SWP_Final_By_StrategyTypeID :typeId, :year
  </sql-query>

  <sql-query name="GetStrategiesByHouseDistrict">
    <query-param name="districtId" type="int" />
    <query-param name="year" type="string" />
    <return class="Strategy" />
    exec dbo.usp_SpatialSelect_Strategies_By_HouseDistricts_Year__tbl_SWP_Final :districtId, :year
  </sql-query>

  <sql-query name="GetStrategiesBySenateDistrict">
    <query-param name="districtId" type="int" />
    <query-param name="year" type="string" />
    <return class="Strategy" />
    exec dbo.usp_SpatialSelect_Strategies_By_SenateDistricts_Year__tbl_SWP_Final :districtId, :year
  </sql-query>

</hibernate-mapping>