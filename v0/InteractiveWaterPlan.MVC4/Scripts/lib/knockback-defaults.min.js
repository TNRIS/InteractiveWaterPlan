/*
  knockback-defaults.js 0.16.7
  (c) 2011, 2012 Kevin Malakoff - http://kmalakoff.github.com/knockback/
  License: MIT (http://www.opensource.org/licenses/mit-license.php)
  Dependencies: Knockout.js, Backbone.js, and Underscore.js.
*/(function(){return function(e){return typeof define=="function"&&define.amd?define("knockback-defaults",["underscore","backbone","knockout","knockback"],e):e.call(this)}(function(){var e,t,n,r,i;return t=!this.kb&&typeof require!="undefined"?require("knockback"):this.kb,r=t._,e=t.Backbone,n=t.ko,this.Knockback=this.kb=t,typeof exports!="undefined"&&(module.exports=t),i=n.utils.unwrapObservable,t.DefaultObservable=function(){function e(e,s){var o,u=this;return this.dv=s,o=t.utils.wrappedObservable(this,n.dependentObservable({read:function(){var t;return(t=i(e()))?t:i(u.dv)},write:function(t){return e(t)}})),o.destroy=r.bind(this.destroy,this),o.setToDefault=r.bind(this.setToDefault,this),o}return e.prototype.destroy=function(){return t.utils.wrappedDestroy(this)},e.prototype.setToDefault=function(){return t.utils.wrappedObservable(this)(this.dv)},e}(),t.defaultObservable=function(e,n){return new t.DefaultObservable(e,n)},t.defaultWrapper=function(e,n){return _legacyWarning("ko.defaultWrapper","0.16.3","Please use kb.defaultObservable instead"),new t.DefaultObservable(e,n)},t.Observable.prototype.setToDefault=function(){var e;(e=this.__kb_value)!=null&&typeof e.setToDefault=="function"&&e.setToDefault()},t.ViewModel.prototype.setToDefault=function(){var e,t;for(e in this.__kb.vm_keys)(t=this[e])!=null&&typeof t.setToDefault=="function"&&t.setToDefault()},t.utils.setToDefault=function(e){var t,i;if(!e)return;if(n.isObservable(e))typeof e.setToDefault=="function"&&e.setToDefault();else if(r.isObject(e))for(t in e)i=e[t],i&&(n.isObservable(i)||typeof i!="function")&&(t[0]!=="_"||t.search("__kb"))&&this.setToDefault(i);return e},t})}).call(this);